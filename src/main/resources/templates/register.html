<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="register.css" type="text/css"/>
    <title></title>
</head>
<body>
<div class="container">
    <form action="#" th:action="@{/register}" method="post" th:object="${userForm}">

        <h2 class="form-signin-heading">Please sign in</h2>
        <p>
            <input type="text" th:field="*{name}" id="name" placeholder="Name" pattern="[A-Za-z]{2,99}"
                   minlength="5" required/>
        </p>
        <p>
            <input id="email" type="email" th:field="*{email}" placeholder="Email"
                   pattern="[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-zA-Z]{2,4}" required/>
        </p>
        <script>
            function onChange() {
                const password = document.querySelector('input[name=password]');
                const confirmPassword = document.querySelector('input[name=confirmPassword]');
                if (confirmPassword.value === password.value) {
                    confirmPassword.setCustomValidity('');
                } else {
                    confirmPassword.setCustomValidity('Passwords do not match');
                }
            }
        </script>
        <p>
            <input name="password" type="password" th:field="*{password}" minlength="5" placeholder="Password"
                   onchange="onChange()" required/>
        </p>

        <p>
            <input type="password" name="confirmPassword" th:field="*{confirmPassword}"
                   placeholder="Confirm Password" onchange="onChange()"
                   minlength="5" required/>
        </p>
        <p>
            <input value="1" type="checkbox" required/><label class="terms"> I accept the terms of use</label>
        </p>
            <p>
            <button type="submit" class="btn btn-primary">Submit</button>
        </p>
    </form>
</div>
</body>

</html>
